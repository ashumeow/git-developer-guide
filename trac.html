
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Sage Trac Server &mdash; Sage Developer&#39;s Guide v1.0</title>
    
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Sage Developer&#39;s Guide v1.0" href="index.html" />
    <link rel="next" title="General Conventions" href="coding_basics.html" />
    <link rel="prev" title="Setting Up Git" href="git_setup.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="coding_basics.html" title="General Conventions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_setup.html" title="Setting Up Git"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Developer&#39;s Guide v1.0</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-sage-trac-server">
<span id="chapter-sage-trac"></span><h1>The Sage Trac Server<a class="headerlink" href="#the-sage-trac-server" title="Permalink to this headline">¶</a></h1>
<p>All changes to Sage source code have to go through the <a class="reference external" href="http://trac.sagemath.org">Sage trac
development server</a>. The purpose
of the Sage trac server is to</p>
<ol class="arabic simple">
<li>Provide a place for discussion on issues and store a permanent
record.</li>
<li>Provide a repository of source code and all proposed changes.</li>
<li>Link these two together.</li>
</ol>
<p>There is also a <a class="reference external" href="http://trac.sagemath.org/wiki">wiki</a> for more general
organizational web pages, like Sage development workshops.</p>
<p>Thus if you find a bug in Sage, if you have new code to submit, want
to review new code already written but not yet included in Sage, or if
you have corrections for the documentation, you should post on the
trac server. Items on the server are called <em>tickets</em>, and anyone may
search or browse the tickets. For a list of recent changes, just visit
the <a class="reference external" href="http://trac.sagemath.org/timeline">Sage trac timeline</a>.</p>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>There are two avenues to prove to the trac server that you are who you
claim to be. First, to change the ticket web pages you need to log in
to trac using a username/password. Second, there is public key
cryptography used by git when copying new source files to the
repository. This section will show you how to setup both.</p>
<div class="section" id="obtaining-an-account">
<span id="section-trac-account"></span><h3>Obtaining an Account<a class="headerlink" href="#obtaining-an-account" title="Permalink to this headline">¶</a></h3>
<p>You first need to open an account if you want to <em>change</em> anything on
the Sage trac server, even if you just want to comment on a
ticket. Part of the process is to prove that you are a human to keep
spam at a minimum. To get an account read the developer manual (this
document) and then send an email to
<tt class="docutils literal"><span class="pre">sage-trac-account&#64;googlegroups.com</span></tt> that contains all of the
following:</p>
<ul class="simple">
<li>your full name,</li>
<li>preferred username,</li>
<li>contact email,</li>
<li>and reason for needing a trac account.</li>
</ul>
<p>Your trac account also grants you access to the sage wiki. Make sure
you understand the review process, and the procedures for opening and
closing tickets before making changes. The remainder of this chapter
contains various guidelines on using the trac server.</p>
</div>
<div class="section" id="generating-and-uploading-your-ssh-keys">
<h3>Generating and Uploading your SSH Keys<a class="headerlink" href="#generating-and-uploading-your-ssh-keys" title="Permalink to this headline">¶</a></h3>
<p>Git will use SSH public key cryptography to decide if and where you are allowed
to upload code to. This is not required if you just want to report a bug or
comment on a ticket, but as soon as you want to contribute code yourself you
need to provide trac with the public half of your own personal key. In recent
versions of Sage, you can use Sage to generate an upload an SSH key</p>
<div class="highlight-python"><pre>sage: dev.upload_ssh_key()
The trac git server requires your SSH public key to be able to identify you.
Upload "/home/vbraun/.ssh/id_dsa.pub" to trac? [Yes/no] y
Trac username: user
Trac password:
Your key has been uploaded.</pre>
</div>
<p>You can also manually generate an SSH key and upload it to trac. This is
described in the following two sections.</p>
</div>
<div class="section" id="manually-generating-your-ssh-keys">
<h3>Manually Generating your SSH Keys<a class="headerlink" href="#manually-generating-your-ssh-keys" title="Permalink to this headline">¶</a></h3>
<p>Git will use SSH public key cryptography to decide if and where you
are allowed to upload code to. This is not required if you just want
to report a bug or comment on a ticket, but as soon as you want to
contribute code yourself you need to provide trac with the public half
of your own personal key. If you don&#8217;t have a private key yet, you can
create it with the <tt class="docutils literal"><span class="pre">ssh-keygen</span></tt> tool:</p>
<div class="highlight-python"><pre>[user@localhost ~]$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/user/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/user/.ssh/id_rsa.
Your public key has been saved in /home/user/.ssh/id_rsa.pub.
The key fingerprint is:
ce:32:b3:de:38:56:80:c9:11:f0:b3:88:f2:1c:89:0a user@localhost
The key's randomart image is:
+--[ RSA 2048]----+
|  ....           |
|   ..            |
|   .o+           |
| o o+o.          |
|E + .  .S        |
|+o .   o.        |
|. o   +.o        |
|      oB         |
|     o+..        |
+-----------------+</pre>
</div>
<p>This will generate a new random private RSA key
in the <tt class="docutils literal"><span class="pre">.ssh</span></tt> folder in your home directory. By default, they are</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">~/.ssh/id_rsa</span></tt></dt>
<dd>Your private key. Keep safe. <strong>Never</strong> hand it out to anybody.</dd>
<dt><tt class="docutils literal"><span class="pre">~/.ssh/id_rsa.pub</span></tt></dt>
<dd>The corresponding public key. This and only this file can be safely
disclosed to third parties.</dd>
</dl>
<p>The <tt class="docutils literal"><span class="pre">ssh-keygen</span></tt> tool will let you generate a key with a different
file name, or protect it with a passphrase. Depending on how much you
trust your own computer or system administrator, you can leave the
passphrase empty to be able to login without any human intervention.</p>
<p>If you have accounts on multiple computers you can use the SSH keys to
log in. Just copy the <strong>public</strong> key file (ending in <tt class="docutils literal"><span class="pre">.pub</span></tt>) to
<tt class="docutils literal"><span class="pre">~/.ssh/authorized_keys</span></tt> on the remote computer and make sure that
the file is only read/writeable by yourself. Voila, the next time you
ssh into that machine you don&#8217;t have to provide your password.</p>
</div>
<div class="section" id="manually-linking-your-public-key-to-your-trac-account">
<span id="section-trac-ssh-key"></span><h3>Manually Linking your Public Key to your Trac Account<a class="headerlink" href="#manually-linking-your-public-key-to-your-trac-account" title="Permalink to this headline">¶</a></h3>
<p>The Sage trac server needs to know one of your public keys. You can
upload it in the preferences, that is</p>
<ol class="arabic simple">
<li>Go to <a class="reference external" href="http://trac.sagemath.org">http://trac.sagemath.org</a></li>
<li>Log in with your trac username/password</li>
<li>Click on &#8220;Preferences&#8221;</li>
<li>Go to the &#8220;SSH Keys&#8221; tab</li>
<li>Paste the content of your public key file
(e.g. <tt class="docutils literal"><span class="pre">~/.ssh/id_rsa.pub</span></tt>)</li>
<li>Click on &#8220;Save changes&#8221;</li>
</ol>
<p>Note that this does <strong>not</strong> allow you to ssh into any account on trac,
it is only used to authenticate you to the gitolite installation on
trac. You can test that you are being authenticated correctly by
issuing some basic gitolite commands, for example:</p>
<div class="highlight-python"><pre>[user@localhost ~]$ ssh -p 2222 git@trac.sagemath.org info
hello user, this is git@trac running gitolite3 (unknown) on git 1.7.9.5

 R W      sage
[user@localhost ~]$ ssh -p 2222 git@trac.sagemath.org help
hello user, this is gitolite3 (unknown) on git 1.7.9.5

list of remote commands available:

    desc
    help
    info
    perms
    writable</pre>
</div>
</div>
</div>
<div class="section" id="reporting-bugs">
<h2>Reporting bugs<a class="headerlink" href="#reporting-bugs" title="Permalink to this headline">¶</a></h2>
<p>If you think you have found a bug in Sage, you should first search
through the following Google groups for postings related to your
possible bug:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">sage-devel</span></tt>: <a class="reference external" href="http://groups.google.com/group/sage-devel">http://groups.google.com/group/sage-devel</a></li>
<li><tt class="docutils literal"><span class="pre">sage-support</span></tt>: <a class="reference external" href="http://groups.google.com/group/sage-support">http://groups.google.com/group/sage-support</a></li>
</ul>
<p>Maybe the problem you have encountered has already been discussed. You
should also search the trac server to see if anyone else has opened a
ticket about your bug.</p>
<p>If you do not find anything, and you are not sure that you have found
a bug, ask about it on <tt class="docutils literal"><span class="pre">sage-devel</span></tt>. You might be asked to open a
new ticket on the trac server. As mentioned above, you need an account
to do this. To report a bug, login and click on the &#8220;New ticket&#8221;
button. Type a meaningful one-liner in the &#8220;Short summary&#8221; box, with
more information in the larger box below. You should include at least
one explicit, reproducible example illustrating your bug (and/or the
steps required to reproduce the buggy behavior). You should also
include the version of Sage (and any relevant packages) you are using,
and operating system information, being precise as possible (32-bit,
64-bit, ...).</p>
<p>Between the &#8220;Summary&#8221; and &#8220;Full description&#8221; boxes, there is a
place to choose the &#8220;Type&#8221; of the ticket: &#8220;Defect&#8221;, &#8220;Enhancement&#8221;,
or &#8220;Task&#8221;. Use your best judgment here; a bug should probably be
reported as a &#8220;Defect&#8221;.</p>
<p>Also pick a component for your bug; this is sometimes
straightforward. If your bug deals with Sage&#8217;s calculus
implementation, choose &#8220;calculus&#8221;. If it is not obvious, do your
best. Choose a milestone; if you are not sure what to choose, just
choose the numbered version of Sage from the menu (&#8220;sage-5.10&#8221;, for
example). Type in some helpful keywords. In the box labeled &#8220;Assign
to&#8221;, type &#8220;somebody&#8221; if you are not sure what else to do.</p>
<p>Hit the &#8220;Preview&#8221; button to make sure everything looks okay, and
then hit &#8220;Submit ticket&#8221;.</p>
<p>If you do not have an account on the trac system to report directly,
you are still encouraged to report any possible bug to the
<tt class="docutils literal"><span class="pre">sage-devel</span></tt> mailing list at <tt class="docutils literal"><span class="pre">sage-devel&#64;googlegroups.com</span></tt>.
The list is moderated for new users and requires subscription.
In your bug report to <tt class="docutils literal"><span class="pre">sage-devel</span></tt>, make sure to include the
following information:</p>
<ul class="simple">
<li><strong>operating system</strong>: as precise as possible and architecture
(32-bit, 64-bit, ...)</li>
<li>affected version: the exact <strong>version number</strong> and the downloaded
package (source, precompiled, virtual machine image, or an upgrade
from a previous version (which one?))</li>
<li>provide a <strong>reproducible example</strong> and/or define the steps to
reproduce the erroneous behaviour.</li>
</ul>
<p>Thank you in advance for reporting bugs to improve Sage in the future!</p>
</div>
<div class="section" id="guidelines-for-opening-tickets">
<h2>Guidelines for opening tickets<a class="headerlink" href="#guidelines-for-opening-tickets" title="Permalink to this headline">¶</a></h2>
<p>In addition to bug reports, you should also open a ticket if you
have some new code which extends Sage&#8217;s capabilities. If you have a
feature request, start a discussion on <tt class="docutils literal"><span class="pre">sage-devel</span></tt> first,
and then if there seems to be general agreement that you have a
good idea, open a ticket describing the idea.</p>
<p>When you consider opening a new ticket, please bear the following
points in mind.</p>
<ul class="simple">
<li>Before opening a ticket, make sure that nobody else has opened a
ticket about the same or closely related issue.</li>
<li>It is much better to open several specific tickets than one that
is very broad. Indeed, a single ticket which deals with lots of
different issues can be quite problematic, and should be avoided.</li>
<li>Be precise: If foo does not work on OS X but is fine on Linux,
mention that in the title. Use the keyword option so that
searches will pick up the issue.</li>
<li>The problem described in the ticket must be solvable. For
example, it would be silly to open a ticket whose purpose was
&#8220;Make Sage the best mathematical software in the world&#8221;. There is
no metric to measure this properly and it is highly subjective.</li>
<li>If appropriate, provide URLs to background information or email
threads relevant to the problem you are reporting.</li>
</ul>
</div>
<div class="section" id="the-ticket-fields">
<span id="section-trac-fields"></span><h2>The Ticket Fields<a class="headerlink" href="#the-ticket-fields" title="Permalink to this headline">¶</a></h2>
<p>When you open a new ticket or change an existing ticket, you will find
a variety of fields that can be changed. Here is a comprehensive
overview:</p>
<ul class="simple">
<li><strong>Reported by:</strong> The trac account name of whoever created the
ticket. Cannot be changed.</li>
<li><strong>Owned by:</strong> Trac account name of owner, by default the person in
charge of the <strong>Component:</strong>. Generally not used in the Sage trac.</li>
<li><strong>Priority:</strong> The priority of the ticket. Keep in mind that the
&#8220;blocker&#8221; label should be used very sparingly.</li>
<li><strong>Milestone:</strong> Milestones are usually goals to be met while working
toward a release. In Sage’s trac, we use milestones instead of
releases. Each ticket must have a milestone assigned. If you are
unsure, assign it to the current milestone.</li>
<li><strong>Component:</strong> A list of components of Sage, pick one that most
closely matches the ticket.</li>
<li><strong>Keywords:</strong> List of keywords. Fill in any keywords that you think
will make your ticket easier to find. Tickets that have been worked
on at Sage days <tt class="docutils literal"><span class="pre">NN</span></tt> (some number) ofter have <tt class="docutils literal"><span class="pre">sdNN</span></tt> as keyword.</li>
<li><strong>Cc:</strong> List of trac user names to Cc (send emails for changes on
the ticket). Note that users that enter a comment are automatically
substcribed to email updates and don&#8217;t need to be listed under Cc.</li>
<li><strong>Merged in:</strong> The Sage release where the ticket was merged in. Only
changed by the release manager.</li>
<li><strong>Authors:</strong> Real name of the ticket author (or list of authors).</li>
<li><strong>Reviewers:</strong> Real name of the ticket reviewer (or list of
reviewers).</li>
<li><strong>Report Upstream:</strong> If the ticket is a bug in an upstream component
of Sage, this field is used to summarize the communication with the
upstream developers.</li>
<li><strong>Work issues:</strong> Issues that need to be resolved before the ticket
can leave the &#8220;needs work&#8221; status.</li>
<li><strong>Branch:</strong> See <a class="reference internal" href="manual_git.html#section-git-branch"><em>Branching Out</em></a></li>
<li><strong>Dependencies:</strong> Does the ticket depend on another ticket?
Sometimes, a ticket requires that another ticket be applied
first. If this is the case, put the dependencies as a
comma-separated list (<tt class="docutils literal"><span class="pre">#1234,</span> <span class="pre">#5678</span></tt>) into the &#8220;Dependencies:&#8221;
field.</li>
<li><strong>Stopgaps:</strong> See <a class="reference internal" href="#section-trac-stopgaps"><em>Stopgaps</em></a>.</li>
</ul>
</div>
<div class="section" id="stopgaps">
<span id="section-trac-stopgaps"></span><h2>Stopgaps<a class="headerlink" href="#stopgaps" title="Permalink to this headline">¶</a></h2>
<p>If a component of Sage produces a mathematical error, you should open
two tickets: a main ticket with all available details, and also a
&#8220;stopgap&#8221; ticket. This second ticket should have a patch which will be
merged into Sage if no one fixes the main issue; this patch should print a
warning when anyone uses the relevant code. To produce the warning
message, use code like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sage.misc.stopgap</span> <span class="kn">import</span> <span class="n">stopgap</span>
<span class="n">stopgap</span><span class="p">(</span><span class="s">&quot;This code contains bugs and may be mathematically unreliable.&quot;</span><span class="p">,</span>
    <span class="n">TICKET_NUM</span><span class="p">)</span>
</pre></div>
</div>
<p>Replace <tt class="docutils literal"><span class="pre">TICKET_NUM</span></tt> by the ticket number for the main ticket.  See
<a class="reference external" href="http://trac.sagemath.org/12699">trac ticket #12699</a>, for example.  On the main trac ticket, you should also
enter the ticket number for the stopgap ticket in the &#8220;Stopgaps&#8221;
field. Stopgap tickets should be marked as blockers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If mathematically valid code causes Sage to raise an error or
crash, for example, there is no need for a stopgap.  Rather,
stopgaps are to warn users that they may be using buggy code; if
Sage crashes, this is not an issue.</p>
</div>
</div>
<div class="section" id="working-on-tickets">
<h2>Working on tickets<a class="headerlink" href="#working-on-tickets" title="Permalink to this headline">¶</a></h2>
<p>If you manage to fix a bug or enhance Sage you are our hero. See
<a class="reference internal" href="walk_through.html#chapter-walk-through"><em>Sage Development Process</em></a> for making changes to the Sage source
code, uploading them to the Sage trac server, and finally putting your
new branch on the trac ticket. The following are some other relevant
issues:</p>
<ul class="simple">
<li>The Patch buildbot wil automatically test your ticket. See <a class="reference external" href="http://wiki.sagemath.org/buildbot">the
patchbot wiki</a> for more
information about its features and limitations. Make sure that you
look at the log, especially if the patch buildbot did not give you
the green blob.</li>
<li>Every bug fixed should result in a doctest.</li>
<li>This is not an issue with defects, but there are many enhancements
possible for Sage and too few developers to implement all the good
ideas. The trac server is useful for keeping ideas in a central
place because in the Google groups they tend to get lost once they
drop off the first page.</li>
<li>If you are a developer, be nice and try to solve a stale/old ticket
every once in a while.</li>
<li>Some people regularly do triage. In this context, this means that we
look at new bugs and classify them according to our perceived
priority. It is very likely that different people will see
priorities of bugs very differently from us, so please let us know
if you see a problem with specific tickets.</li>
</ul>
</div>
<div class="section" id="reviewing-patches">
<span id="section-review-patches"></span><h2>Reviewing patches<a class="headerlink" href="#reviewing-patches" title="Permalink to this headline">¶</a></h2>
<p>All code that goes into Sage is peer-reviewed, to ensure that the
conventions discussed in this manual are followed, to make sure that
there are sufficient examples and doctests in the documentation, and
to try to make sure that the code does, mathematically, what it is
supposed to.</p>
<p>If someone (other than you) has posted a git branch for a ticket on
the trac server, you can review it! Look at the branch diff (by
clicking on the ) to see if it makes sense.  Download it (see
<a class="reference internal" href="walk_through.html#section-walkthrough-review"><em>Reviewing</em></a>) and build Sage with the new
code. Now ask yourself questions such as the following:</p>
<ul class="simple">
<li>Does the new source code make sense?</li>
<li>When you run it in Sage, does it fix the problem reported on the
ticket?</li>
<li>Does it introduce any new problems?</li>
<li>Is it documented sufficiently, including both explanation and
doctests? All code in Sage must have doctests, so if the ticket
author changes code which did not have a doctest before, the new
version must include one. In particular, all new code must be 100%
doctested. Use the command <tt class="docutils literal"><span class="pre">sage</span> <span class="pre">-coverage</span> <span class="pre">&lt;files&gt;</span></tt> to see the
coverage percentage of <tt class="docutils literal"><span class="pre">&lt;files&gt;</span></tt>.</li>
<li>In particular, is there a doctest illustrating that the bug has been
fixed? If a function used to give the wrong answer and this ticket
fixes that, then it should include a doctest illustrating its new
success.  The surrounding docstring shoud contain the ticket number,
for example <tt class="docutils literal"><span class="pre">See</span> <span class="pre">:trac:`12345`</span></tt>.</li>
<li>If the ticket claims to speed up some computation, does the ticket
contain code examples to illustrate the claim? The ticket should
explain the speed efficiency before applying the patch. It should
also explain the speed efficiency gained after applying the patch.</li>
<li>Does the reference manual build without errors? You can test the
reference manual using the command <tt class="docutils literal"><span class="pre">sage</span> <span class="pre">-docbuild</span> <span class="pre">reference</span> <span class="pre">html</span></tt>
to build the HTML version. The PDF version of the reference manual
must also build without errors. Use the command <tt class="docutils literal"><span class="pre">sage</span> <span class="pre">-docbuild</span>
<span class="pre">reference</span> <span class="pre">pdf</span></tt> to test it out. The latter command requires that you
have LaTeX installed on your system.</li>
<li>Do all doctests pass without errors? It is difficult to predict
which components of Sage will be affected by a given patch and you
should run tests on the whole library&#8212;including those flagged as
<tt class="docutils literal"><span class="pre">#long</span></tt>&#8212;before giving a positive review. You can test the Sage
library with <tt class="docutils literal"><span class="pre">make</span> <span class="pre">ptestlong</span></tt>. See <a class="reference internal" href="doctesting.html#chapter-doctesting"><em>Doctesting the Sage Library</em></a> for
more information.</li>
<li>Do the code and documentation follow conventions documented in the
following sections?<ul>
<li><em class="xref std std-ref">chapter-conventions</em></li>
<li><a class="reference internal" href="coding_in_python.html#chapter-python"><em>Coding in Python for Sage</em></a></li>
<li><a class="reference internal" href="coding_in_cython.html#chapter-cython"><em>Coding in Cython</em></a></li>
</ul>
</li>
</ul>
<p>If the answers to these and other such reasonable questions are yes,
then you might want to give the patch a positive review. On the main
ticket page, write a comment in the box explaining your review. If you
don&#8217;t feel experienced enough for this, make a comment explaining what
you checked, and end by asking if someone more experienced will take a
look.  If you think there are issues with the patch, explain them in
the comment box and change the status to &#8220;needs work&#8221;. Browse the
tickets on the trac server to see how things are done.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>&#8220;The perfect is the enemy of the good&#8221;</p>
<p class="last">The point of the review is to ensure that the Sage code guidelines
are followed and that the the implementation is mathematically
correct. Please refrain from aditional feature requests or
open-ended discussion about alternative implementations. If you
want the patch written differently, your suggestion should be a
clear and actionable request.</p>
</div>
</div>
<div class="section" id="closing-tickets">
<h2>Closing tickets<a class="headerlink" href="#closing-tickets" title="Permalink to this headline">¶</a></h2>
<p>Only the Sage release manager will close tickets. Most likely, this is
not you nor will your trac account have the necessary permissions. If
you feel strongly that a ticket should be closed or deleted, then
change the status of the ticket to <em>needs review</em> and change the
milestone to <em>sage-duplictate/invalid/wontfix</em>. You should also
comment on the ticket, explaining why it should be closed. If another
developer agrees, he sets the ticket to <em>positive review</em>.</p>
<p>A related issue is re-opening tickets. You should refrain from
re-opening a ticket that is already closed. Instead, open a new ticket
and provide a link in the description to the old ticket.</p>
</div>
<div class="section" id="reasons-to-invalidate-tickets">
<h2>Reasons to invalidate tickets<a class="headerlink" href="#reasons-to-invalidate-tickets" title="Permalink to this headline">¶</a></h2>
<p><strong>One Issue Per Ticket</strong>: A ticket must cover only one issue
and should not be a laundry list of unrelated issues. If a ticket
covers more than one issue, we cannot close it and while some of
the patches have been applied to a given release, the ticket would
remain in limbo.</p>
<p><strong>No Patch Bombs</strong>: Code that goes into Sage is peer-reviewed. If
you show up with an 80,000 lines of code bundle that completely
rips out a subsystem and replaces it with something else, you can
imagine that the review process will be a little tedious. These
huge patch bombs are problematic for several reasons and we prefer
small, gradual changes that are easy to review and apply. This is
not always possible (e.g. coercion rewrite), but it is still highly
recommended that you avoid this style of development unless there
is no way around it.</p>
<p><strong>Sage Specific</strong>: Sage&#8217;s philosophy is that we ship everything
(or close to it) in one source tarball to make debugging possible.
You can imagine the combinatorial explosion we would have to deal
with if you replaced only ten components of Sage with external
packages. Once you start replacing some of the more essential
components of Sage that are commonly packaged (e.g. Pari, GAP,
lisp, gmp), it is no longer a problem that belongs in our tracker.
If your distribution&#8217;s Pari package is buggy for example, file a
bug report with them. We are usually willing and able to solve
the problem, but there are no guarantees that we will help you
out. Looking at the open number of tickets that are Sage specific,
you hopefully will understand why.</p>
<p><strong>No Support Discussions</strong>: The trac installation is not meant to
be a system to track down problems when using Sage. Tickets should
be clearly a bug and not &#8220;I tried to do X and I couldn&#8217;t get it to
work. How do I do this?&#8221; That is usually not a bug in Sage and it
is likely that <tt class="docutils literal"><span class="pre">sage-support</span></tt> can answer that question for you. If
it turns out that you did hit a bug, somebody will open a concise
and to-the-point ticket.</p>
<p><strong>Solution Must Be Achievable</strong>: Tickets must be achievable. Many
times, tickets that fall into this category usually ran afoul to
some of the other rules listed above. An example would be to
&#8220;Make Sage the best CAS in the world&#8221;. There is no metric to
measure this properly and it is highly subjective.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">The Sage Trac Server</a><ul>
<li><a class="reference internal" href="#authentication">Authentication</a><ul>
<li><a class="reference internal" href="#obtaining-an-account">Obtaining an Account</a></li>
<li><a class="reference internal" href="#generating-and-uploading-your-ssh-keys">Generating and Uploading your SSH Keys</a></li>
<li><a class="reference internal" href="#manually-generating-your-ssh-keys">Manually Generating your SSH Keys</a></li>
<li><a class="reference internal" href="#manually-linking-your-public-key-to-your-trac-account">Manually Linking your Public Key to your Trac Account</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reporting-bugs">Reporting bugs</a></li>
<li><a class="reference internal" href="#guidelines-for-opening-tickets">Guidelines for opening tickets</a></li>
<li><a class="reference internal" href="#the-ticket-fields">The Ticket Fields</a></li>
<li><a class="reference internal" href="#stopgaps">Stopgaps</a></li>
<li><a class="reference internal" href="#working-on-tickets">Working on tickets</a></li>
<li><a class="reference internal" href="#reviewing-patches">Reviewing patches</a></li>
<li><a class="reference internal" href="#closing-tickets">Closing tickets</a></li>
<li><a class="reference internal" href="#reasons-to-invalidate-tickets">Reasons to invalidate tickets</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="git_setup.html"
                                  title="previous chapter">Setting Up Git</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="coding_basics.html"
                                  title="next chapter">General Conventions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/trac.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="coding_basics.html" title="General Conventions"
             >next</a> |</li>
        <li class="right" >
          <a href="git_setup.html" title="Setting Up Git"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Developer&#39;s Guide v1.0</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2013, The Sage Development Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;  
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');
    
    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });
    
    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();
    
    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };
    
    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });
    
    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>